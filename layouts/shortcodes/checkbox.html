<input type="checkbox" data-id="{{ .Get "id" }}-cb">
<label for="{{ .Get "id" }}-cb" class="non-selectable">
    {{ if .Get "spell" }}
        <a class="tooltip spell-tooltips" data-tooltip-href="http://www.wowdb.com/spells/{{ .Get "spell" }}" onclick="toggleCheckbox(event, '{{ .Get "id" }}-cb');">{{ .Inner | safeHTML }}</a>
    {{ else }}
        <a class="tooltip spell-tooltips" onclick="toggleCheckbox(event, '{{ .Get "id" }}-cb');">{{ .Inner | safeHTML }}</a>
    {{ end }}
</label>

<script>
    const checkbox = document.querySelector('[data-id="{{ .Get "id" }}-cb"]');
    checkbox.addEventListener('change', function () {
        const toggleText = document.getElementById(this.getAttribute('data-id'));
        if (this.checked) {
            toggleText.style.display = 'block';
        } else {
            toggleText.style.display = 'none';
        }
    });

    function toggleCheckbox(event, checkboxId) {
        event.preventDefault();
        const checkbox = document.querySelector(`[data-id="${checkboxId}"]`);
        checkbox.checked = !checkbox.checked;
        checkbox.dispatchEvent(new Event('change'));
    }
</script>
